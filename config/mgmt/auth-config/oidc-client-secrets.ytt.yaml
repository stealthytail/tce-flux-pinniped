apiVersion: v1
kind: Secret
metadata:
    name: dex-client-credentials
    namespace: pinniped-supervisor
type: secrets.pinniped.dev/oidc-client
stringData:
    clientID: ENC[AES256_GCM,data:kATfq6cQSUzoglgkvw==,iv:k86OGdQq6as0UnXz/ntJ7+pRcrNK/PLMNf+7FKYGee4=,tag:NEQhKz/W7MlQ23xPuYZGng==,type:str]
    clientSecret: ENC[AES256_GCM,data:3xrp+zMhiNngZzHPhO7fprT2zak50BTe2VBm+1Cuaic=,iv:klsEuHWlmMPcBFQXzcDqLYP+wHeVasiepR7kYvgRUEI=,tag:81gllFMaIJWWX5CMZ3eJDw==,type:str]
sops:
    kms: []
    gcp_kms: []
    azure_kv: []
    hc_vault: []
    age:
        - recipient: age1e25ew05v62a720vhsetzrhalehzpsv6l6c5usw2mn4lley85ssnsajz2v3
          enc: |
            -----BEGIN AGE ENCRYPTED FILE-----
            YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBzSmVMTU5rTmxOVWcxeTdh
            bzFuWDVMMVNpZGFWWjQwZlhyaDJOTENOdlNnCllibWNid3o3UkpBVnpqSDViVXNM
            YjlaYTUvTGhMVjJ2cFpsNkVueDR0emcKLS0tIGd0ZTBkRExLM0pNdndqa29SbWl0
            Y0xPekk3YVlKWUZpYmlZa2p2UGNkM28KqvZIgR68JXBqKcBUphdUyBDj+BgNV4la
            2Djip5SYcKqhhBhrG2qmt46ZjfMJNqEfpYVaR6KuR/myr98XDuKoYg==
            -----END AGE ENCRYPTED FILE-----
    lastmodified: "2022-03-23T10:07:20Z"
    mac: ENC[AES256_GCM,data:hDv9Wf5JD/68quD2wkRMioywVusNDYkKz/Sfn9pD7O3uK81DX2ulpoUVFKxFEmPlJeENAnxsa5QUOmQKrJIIRTu/L04i2EzKo7BEnC4KG4rYcX9GbBSGxJHQTcdjwcTooUd0iJEhVorwdiMlffUsjhqT1Xl9CVwhj9H59HQUGxg=,iv:C7Wk6Bw9afxyBE4bGA6qfIDW6BWlyMiZMxS36gnoEJY=,tag:L/V5BtsFJofVRphLjWPbHw==,type:str]
    pgp: []
    encrypted_regex: ^(data|stringData|.*client.secret.*)$
    version: 3.7.2
---
apiVersion: idp.supervisor.pinniped.dev/v1alpha1
kind: OIDCIdentityProvider
metadata:
    name: dex
    namespace: pinniped-supervisor
spec:
    issuer: https://dex.yaml.tv
    authorizationConfig:
        additionalScopes:
            - offline_access
            - groups
            - email
        allowPasswordGrant: false
    claims:
        username: email
        groups: groups
    client:
        secretName: dex-client-credentials
sops:
    kms: []
    gcp_kms: []
    azure_kv: []
    hc_vault: []
    age:
        - recipient: age1e25ew05v62a720vhsetzrhalehzpsv6l6c5usw2mn4lley85ssnsajz2v3
          enc: |
            -----BEGIN AGE ENCRYPTED FILE-----
            YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBzSmVMTU5rTmxOVWcxeTdh
            bzFuWDVMMVNpZGFWWjQwZlhyaDJOTENOdlNnCllibWNid3o3UkpBVnpqSDViVXNM
            YjlaYTUvTGhMVjJ2cFpsNkVueDR0emcKLS0tIGd0ZTBkRExLM0pNdndqa29SbWl0
            Y0xPekk3YVlKWUZpYmlZa2p2UGNkM28KqvZIgR68JXBqKcBUphdUyBDj+BgNV4la
            2Djip5SYcKqhhBhrG2qmt46ZjfMJNqEfpYVaR6KuR/myr98XDuKoYg==
            -----END AGE ENCRYPTED FILE-----
    lastmodified: "2022-03-23T10:07:20Z"
    mac: ENC[AES256_GCM,data:hDv9Wf5JD/68quD2wkRMioywVusNDYkKz/Sfn9pD7O3uK81DX2ulpoUVFKxFEmPlJeENAnxsa5QUOmQKrJIIRTu/L04i2EzKo7BEnC4KG4rYcX9GbBSGxJHQTcdjwcTooUd0iJEhVorwdiMlffUsjhqT1Xl9CVwhj9H59HQUGxg=,iv:C7Wk6Bw9afxyBE4bGA6qfIDW6BWlyMiZMxS36gnoEJY=,tag:L/V5BtsFJofVRphLjWPbHw==,type:str]
    pgp: []
    encrypted_regex: ^(data|stringData|.*client.secret.*)$
    version: 3.7.2
