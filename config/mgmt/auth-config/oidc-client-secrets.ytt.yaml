apiVersion: v1
kind: Secret
metadata:
    name: dex-client-credentials
    namespace: pinniped-supervisor
type: secrets.pinniped.dev/oidc-client
stringData:
    clientID: ENC[AES256_GCM,data:1lRpf0su7M4oEbIdPg==,iv:cqxEfXVxlyNOGkqrlGpt9cPeeSaWKygYPX3axt4ydEE=,tag:0+tF2L44Uj7eIcBbSYhi7Q==,type:str]
    clientSecret: ENC[AES256_GCM,data:2LC7+u0L3BOQyubAoebrOBIFPnWSSkUPC8/vhxgXycc=,iv:tZbAPqqtDJkkjLtmYiYHdf4vtSPK7r9suNCGz2YCyq0=,tag:3SAs9nl9jReNGSo4tfczMQ==,type:str]
sops:
    kms: []
    gcp_kms: []
    azure_kv: []
    hc_vault: []
    age:
        - recipient: age1e25ew05v62a720vhsetzrhalehzpsv6l6c5usw2mn4lley85ssnsajz2v3
          enc: |
            -----BEGIN AGE ENCRYPTED FILE-----
            YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBDd2k3clZPM29FcXRwNmVU
            dUNyT0hteTdidkxhTGZVcldkQllqUE4xMHhjCkFBZ0hIc1h5THBjNXl0RGhsajZ6
            RUQvNXBocC96RUszQnA3bXVVc0YrVG8KLS0tIGZXa3RUbGZEdFhJWGVISCsvZXBj
            OXd0S1dhait3bjNpam1vT1pUNVpFRkEK/CaIGxHoj1OzuOr3HIjqQfgz4L+AFazj
            G+pm1hRhwABWP7JZAVpiz5Eh+dHQApR/ETSYwFVYMtfAjL/W30dq+Q==
            -----END AGE ENCRYPTED FILE-----
    lastmodified: "2022-03-23T11:25:01Z"
    mac: ENC[AES256_GCM,data:V+ikHMqn9mmKBKRy74yxe5RjJQIaXOil03rvvFenx49B68cy+PWlKkBgtKfKpjm4oIq2OWhZHIM/hNQYiBf/LhAUoN2gI3hyLRaLJPQD/Q1HByVF6BUbEkORoYjnTJpp/rpoQ+b2Q51twYEtDv3nVC+CiyrQqK9sergINdiLjjM=,iv:/xTHABCdMKuXFgCyShFyPhWvWDG5al7AFgoPsEFeES4=,tag:ab1zHtdE6kcmLdcCZYcVUg==,type:str]
    pgp: []
    encrypted_regex: ^(data|stringData|.*client.secret.*)$
    version: 3.7.2
---
apiVersion: idp.supervisor.pinniped.dev/v1alpha1
kind: OIDCIdentityProvider
metadata:
    name: dex
    namespace: pinniped-supervisor
spec:
    issuer: https://dex.yaml.tv
    authorizationConfig:
        additionalScopes:
            - offline_access
            - groups
            - email
        allowPasswordGrant: false
    claims:
        username: email
        groups: groups
    client:
        secretName: dex-client-credentials
sops:
    kms: []
    gcp_kms: []
    azure_kv: []
    hc_vault: []
    age:
        - recipient: age1e25ew05v62a720vhsetzrhalehzpsv6l6c5usw2mn4lley85ssnsajz2v3
          enc: |
            -----BEGIN AGE ENCRYPTED FILE-----
            YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBDd2k3clZPM29FcXRwNmVU
            dUNyT0hteTdidkxhTGZVcldkQllqUE4xMHhjCkFBZ0hIc1h5THBjNXl0RGhsajZ6
            RUQvNXBocC96RUszQnA3bXVVc0YrVG8KLS0tIGZXa3RUbGZEdFhJWGVISCsvZXBj
            OXd0S1dhait3bjNpam1vT1pUNVpFRkEK/CaIGxHoj1OzuOr3HIjqQfgz4L+AFazj
            G+pm1hRhwABWP7JZAVpiz5Eh+dHQApR/ETSYwFVYMtfAjL/W30dq+Q==
            -----END AGE ENCRYPTED FILE-----
    lastmodified: "2022-03-23T11:25:01Z"
    mac: ENC[AES256_GCM,data:V+ikHMqn9mmKBKRy74yxe5RjJQIaXOil03rvvFenx49B68cy+PWlKkBgtKfKpjm4oIq2OWhZHIM/hNQYiBf/LhAUoN2gI3hyLRaLJPQD/Q1HByVF6BUbEkORoYjnTJpp/rpoQ+b2Q51twYEtDv3nVC+CiyrQqK9sergINdiLjjM=,iv:/xTHABCdMKuXFgCyShFyPhWvWDG5al7AFgoPsEFeES4=,tag:ab1zHtdE6kcmLdcCZYcVUg==,type:str]
    pgp: []
    encrypted_regex: ^(data|stringData|.*client.secret.*)$
    version: 3.7.2
