apiVersion: v1
kind: Secret
metadata:
    name: dex-client-credentials
    namespace: pinniped-supervisor
type: secrets.pinniped.dev/oidc-client
stringData:
    clientID: ENC[AES256_GCM,data:Q9EO9GfL8egXWNiUxQ==,iv:/Xh9akZaEfgNhKAnO1TPYEzCUlOA/aLOUNHBtrHKePc=,tag:+2WJ4JMeoRyb3O8siZTYbg==,type:str]
    clientSecret: ENC[AES256_GCM,data:u1lmgigj+Cl3moxiG3k61KgWcP9WAP8PgMQcPKvQKAQ=,iv:/+qaVbXFZREv29PB2WgQuaf0DsivAwcdOUD4ok2RfKM=,tag:g9s7x+/le3JKhOgsCEFDoQ==,type:str]
sops:
    kms: []
    gcp_kms: []
    azure_kv: []
    hc_vault: []
    age:
        - recipient: age1e25ew05v62a720vhsetzrhalehzpsv6l6c5usw2mn4lley85ssnsajz2v3
          enc: |
            -----BEGIN AGE ENCRYPTED FILE-----
            YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBUYWx5R3IvTU8vaHFlL0hE
            RDRYWmxJcnNqVVIyK1l0SElaam9ZRjlXS3hZCndQeXJlTXlHOWlMd1NueHdMSHZl
            SHBwRW1XcDIzbFBGZzdRRXVtTFlETlEKLS0tIDBiT1AwNFF0NFZITHErdmcxbTY5
            SEJnaGQybVFROTVseGNMd2dmZ28va2MK/MD1ghWh+WEBxU7nY8X7ynzDNAxkZBzY
            kW/JxzdkwEfdblxDiMb7cEfqbB/RXi4shpF/JpA5A44VRuxKuE1fQQ==
            -----END AGE ENCRYPTED FILE-----
    lastmodified: "2022-03-23T08:34:50Z"
    mac: ENC[AES256_GCM,data:Oo/tJEsk2cZftFASCKuE9L2PTvzO2moDMsH/TdsCBCa50V3c/vmkwkHX+xOe+Kf3IrVgZuhC/k/IuD9LcPfrttLM8p1qsz2Hh3WNAwcg9vvuLaGAI+2W6IoJFIAhcfsfzrB9P/R4YOUvY1FHZ9EB+J8rnDC2mV9O0dr9G8A8NoU=,iv:Od1pRTyOoXRs7Sr5fNd+3wG31o0jZdvX/0WYpLh8KQ0=,tag:2+BP9+GI2MRFaNMcGQMXOQ==,type:str]
    pgp: []
    encrypted_regex: ^(data|stringData|.*client.secret.*)$
    version: 3.7.2
---
apiVersion: idp.supervisor.pinniped.dev/v1alpha1
kind: OIDCIdentityProvider
metadata:
    name: dex
    namespace: pinniped-supervisor
spec:
    issuer: https://dex.yaml.tv
    authorizationConfig:
        additionalScopes:
            - offline_access
            - groups
            - email
        allowPasswordGrant: false
    claims:
        username: email
        groups: groups
    client:
        secretName: dex-client-credentials
sops:
    kms: []
    gcp_kms: []
    azure_kv: []
    hc_vault: []
    age:
        - recipient: age1e25ew05v62a720vhsetzrhalehzpsv6l6c5usw2mn4lley85ssnsajz2v3
          enc: |
            -----BEGIN AGE ENCRYPTED FILE-----
            YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBUYWx5R3IvTU8vaHFlL0hE
            RDRYWmxJcnNqVVIyK1l0SElaam9ZRjlXS3hZCndQeXJlTXlHOWlMd1NueHdMSHZl
            SHBwRW1XcDIzbFBGZzdRRXVtTFlETlEKLS0tIDBiT1AwNFF0NFZITHErdmcxbTY5
            SEJnaGQybVFROTVseGNMd2dmZ28va2MK/MD1ghWh+WEBxU7nY8X7ynzDNAxkZBzY
            kW/JxzdkwEfdblxDiMb7cEfqbB/RXi4shpF/JpA5A44VRuxKuE1fQQ==
            -----END AGE ENCRYPTED FILE-----
    lastmodified: "2022-03-23T08:34:50Z"
    mac: ENC[AES256_GCM,data:Oo/tJEsk2cZftFASCKuE9L2PTvzO2moDMsH/TdsCBCa50V3c/vmkwkHX+xOe+Kf3IrVgZuhC/k/IuD9LcPfrttLM8p1qsz2Hh3WNAwcg9vvuLaGAI+2W6IoJFIAhcfsfzrB9P/R4YOUvY1FHZ9EB+J8rnDC2mV9O0dr9G8A8NoU=,iv:Od1pRTyOoXRs7Sr5fNd+3wG31o0jZdvX/0WYpLh8KQ0=,tag:2+BP9+GI2MRFaNMcGQMXOQ==,type:str]
    pgp: []
    encrypted_regex: ^(data|stringData|.*client.secret.*)$
    version: 3.7.2
