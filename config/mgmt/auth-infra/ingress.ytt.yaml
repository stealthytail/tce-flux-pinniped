apiVersion: networking.k8s.io/v1
kind: Ingress
metadata:
    name: dex
    namespace: dex
    annotations:
        ingress.kubernetes.io/force-ssl-redirect: "true"
        projectcontour.io/tls-cert-namespace: secure-ingress
spec:
    tls:
        - hosts:
            - dex.yaml.tv
          secretName: wildcard-yaml-tv
    rules:
        - host: dex.yaml.tv
          http:
            paths:
                - path: /
                  pathType: Prefix
                  backend:
                    service:
                        name: dex
                        port:
                            name: dex
sops:
    kms: []
    gcp_kms: []
    azure_kv: []
    hc_vault: []
    age:
        - recipient: age1e25ew05v62a720vhsetzrhalehzpsv6l6c5usw2mn4lley85ssnsajz2v3
          enc: |
            -----BEGIN AGE ENCRYPTED FILE-----
            YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBHZlhvcHhoZnBaMmV5SzB4
            N0xaKzNaZlh2WGtlSkhZbnJodURrRDhjUmhVCmFyd3FWaUxhVm0xV25JL244bTJD
            VlNiN3lSdGVObU5BRmhUU3p3S2VLMUUKLS0tIHN5YUdva04vUUNldWNBVjZDWndT
            MUZ0SjJmbWJHcTRJSG9sMFVLcDNqWjQKHxbsIOYEgRx06wN5Ay8mvUi8F6H1hDr4
            AqUtw9klT/9xvTyq63rMMZ9i9xC94QsjHGz60zIN6vAM8MuqQ9xEQw==
            -----END AGE ENCRYPTED FILE-----
    lastmodified: "2022-03-23T10:07:19Z"
    mac: ENC[AES256_GCM,data:Sr9aCDgSki2I0cWu+LSbglbYDglXQdlG1lBRbhNjMa6tSYEEEzFQgsGNX+LNH7Du8D6otGeiWbb6DwcXBNm0ILq5BZZ+dl4oPvk+Xk5mrlqVAivKfN8/qV1/1Wv5Bw3wug+6X70d0Egl10630sG+DjHpk5HnHsp4eIF+cBKfRN8=,iv:56oMwG6qYUdL4HdPmpCZgb0hbELBbbiKLAHXYoZgJZ0=,tag:WyB00/zDjcpxU24XuapRIw==,type:str]
    pgp: []
    encrypted_regex: ^(data|stringData|.*client.secret.*)$
    version: 3.7.2
